import React from "react";
import styles from "./PriceCard.module.css";

import { PriceCardProps } from "../../../lib/types/type";

export const PriceCard: React.FC<PriceCardProps> = ({ pricingData }) => {
  // Helper function to format date into a readable string (e.g., "Oct 07, 2024")
  const formatDate = (dateString: string): string => {
    const date = new Date(dateString);

    // Options for date formatting
    const optionsDate: Intl.DateTimeFormatOptions = {
      year: "2-digit",
      month: "short",
      day: "numeric",
    };

    // Options for time formatting
    const optionsTime: Intl.DateTimeFormatOptions = {
      hour: "2-digit",
      minute: "2-digit",
      hour12: false,
    };

    // Format the date and time
    const formattedDate = date.toLocaleDateString(undefined, optionsDate);
    const formattedTime = date.toLocaleTimeString(undefined, optionsTime);

    return `${formattedDate} : ${formattedTime}`;
  };

  return (
    <div className={styles.cardsContainer}>
      {pricingData.map((item, index) => (
        <div
          key={index}
          className={`${styles.card} ${item.primary ? styles.primaryCard : ""}`}
        >
          <div className={styles.ItemsContainer}>
            <h2 className={styles.title}>{item.name}</h2>
            <h1 className={styles.trainingCount}>
              {item.interval} {item.duration}
            </h1>
            <div className={styles.schedule}>
              <svg
                width="21"
                height="21"
                viewBox="0 0 21 21"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style={{ paddingRight: "5px" }}
                className={styles.iconsvg}
              >
                <g clipPath="url(#clip0_67_236)">
                  <mask
                    id="mask0_67_236"
                    style={{ maskType: "luminance" }}
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="21"
                    height="21"
                  >
                    <path d="M21 0H0V21H21V0Z" fill="white" />
                  </mask>
                  <g mask="url(#mask0_67_236)">
                    <path
                      d="M18.9742 1.25565H17.8079V0.435291C17.8079 0.195323 17.6125 0 17.3726 0C17.1326 0 16.9373 0.195323 16.9373 0.435291V1.25565H14.3702V0.435291C14.3702 0.195323 14.1749 0 13.9349 0C13.6949 0 13.4996 0.195323 13.4996 0.435291V1.25565H10.9325V0.435291C10.9325 0.195323 10.7372 0 10.4972 0C10.2572 0 10.0619 0.195323 10.0619 0.435291V1.25565H7.49482V0.435291C7.49482 0.195323 7.2995 0 7.05953 0C6.81956 0 6.62424 0.195323 6.62424 0.435291V1.25565H4.05714V0.435291C4.06272 0.195323 3.86739 0 3.62743 0C3.38746 0 3.19213 0.195323 3.19213 0.435291V1.25565H2.02578C0.909647 1.25565 0 2.16529 0 3.28142V18.9742C0 20.0904 0.909647 21 2.02578 21H18.9742C20.0904 21 21 20.0904 21 18.9742V3.28142C21 2.16529 20.0904 1.25565 18.9742 1.25565ZM20.1294 18.9742C20.1294 19.6104 19.6104 20.1294 18.9742 20.1294H2.02578C1.38958 20.1294 0.870582 19.6104 0.870582 18.9742V3.28142C0.870582 2.64523 1.38958 2.12623 2.02578 2.12623H3.19213V2.94659C3.19213 3.18655 3.38746 3.38188 3.62743 3.38188C3.86739 3.38188 4.06272 3.18655 4.06272 2.94659V2.12623H6.62982V2.94659C6.62982 3.18655 6.82514 3.38188 7.06511 3.38188C7.30508 3.38188 7.5004 3.18655 7.5004 2.94659V2.12623H10.0675V2.94659C10.0675 3.18655 10.2628 3.38188 10.5028 3.38188C10.7428 3.38188 10.9381 3.18655 10.9381 2.94659V2.12623H13.5052V2.94659C13.5052 3.18655 13.7005 3.38188 13.9405 3.38188C14.1804 3.38188 14.3758 3.18655 14.3758 2.94659V2.12623H16.9429V2.94659C16.9429 3.18655 17.1382 3.38188 17.3782 3.38188C17.6181 3.38188 17.8134 3.18655 17.8134 2.94659V2.12623H18.9742C19.6104 2.12623 20.1294 2.64523 20.1294 3.28142V18.9742Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M17.1102 5.33508H3.88964C3.64967 5.33508 3.45435 5.53041 3.45435 5.77037C3.45435 6.01034 3.64967 6.20566 3.88964 6.20566H17.1102C17.3502 6.20566 17.5455 6.01034 17.5455 5.77037C17.5455 5.53041 17.3502 5.33508 17.1102 5.33508Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M13.1201 8.92346H11.8645C11.6245 8.92346 11.4292 9.11878 11.4292 9.35875C11.4292 9.59872 11.6245 9.79404 11.8645 9.79404H13.1201C13.3601 9.79404 13.5554 9.59872 13.5554 9.35875C13.5554 9.11878 13.3601 8.92346 13.1201 8.92346Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M17.1102 8.92346H15.8545C15.6146 8.92346 15.4192 9.11878 15.4192 9.35875C15.4192 9.59872 15.6146 9.79404 15.8545 9.79404H17.1102C17.3501 9.79404 17.5455 9.59872 17.5455 9.35875C17.5455 9.11878 17.3501 8.92346 17.1102 8.92346Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M3.88964 9.79404H5.14529C5.38526 9.79404 5.58058 9.59872 5.58058 9.35875C5.58058 9.11878 5.38526 8.92346 5.14529 8.92346H3.88964C3.64967 8.92346 3.45435 9.11878 3.45435 9.35875C3.45435 9.59872 3.64967 9.79404 3.88964 9.79404Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M9.1299 8.92346H7.87425C7.63428 8.92346 7.43896 9.11878 7.43896 9.35875C7.43896 9.59872 7.63428 9.79404 7.87425 9.79404H9.1299C9.36987 9.79404 9.56519 9.59872 9.56519 9.35875C9.56519 9.11878 9.36987 8.92346 9.1299 8.92346Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M13.1201 12.5062H11.8645C11.6245 12.5062 11.4292 12.7015 11.4292 12.9415C11.4292 13.1815 11.6245 13.3768 11.8645 13.3768H13.1201C13.3601 13.3768 13.5554 13.1815 13.5554 12.9415C13.5554 12.7015 13.3601 12.5062 13.1201 12.5062Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M9.1299 12.5062H7.87425C7.63428 12.5062 7.43896 12.7015 7.43896 12.9415C7.43896 13.1815 7.63428 13.3768 7.87425 13.3768H9.1299C9.36987 13.3768 9.56519 13.1815 9.56519 12.9415C9.56519 12.7015 9.36987 12.5062 9.1299 12.5062Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M17.1102 12.5062H15.8545C15.6146 12.5062 15.4192 12.7015 15.4192 12.9415C15.4192 13.1815 15.6146 13.3768 15.8545 13.3768H17.1102C17.3501 13.3768 17.5455 13.1815 17.5455 12.9415C17.5455 12.7015 17.3501 12.5062 17.1102 12.5062Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M3.88964 13.3768H5.14529C5.38526 13.3768 5.58058 13.1815 5.58058 12.9415C5.58058 12.7015 5.38526 12.5062 5.14529 12.5062H3.88964C3.64967 12.5062 3.45435 12.7015 3.45435 12.9415C3.45435 13.1815 3.64967 13.3768 3.88964 13.3768Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M13.1201 16.089H11.8645C11.6245 16.089 11.4292 16.2843 11.4292 16.5243C11.4292 16.7642 11.6245 16.9596 11.8645 16.9596H13.1201C13.3601 16.9596 13.5554 16.7642 13.5554 16.5243C13.5554 16.2843 13.3601 16.089 13.1201 16.089Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M9.1299 16.089H7.87425C7.63428 16.089 7.43896 16.2843 7.43896 16.5243C7.43896 16.7642 7.63428 16.9596 7.87425 16.9596H9.1299C9.36987 16.9596 9.56519 16.7642 9.56519 16.5243C9.56519 16.2843 9.36987 16.089 9.1299 16.089Z"
                      fill="#C1A78C"
                    />
                    <path
                      d="M5.13971 16.089H3.88964C3.64967 16.089 3.45435 16.2843 3.45435 16.5243C3.45435 16.7642 3.64967 16.9596 3.88964 16.9596H5.14529C5.38526 16.9596 5.58058 16.7642 5.58058 16.5243C5.575 16.2843 5.37968 16.089 5.13971 16.089Z"
                      fill="#C1A78C"
                    />
                  </g>
                </g>
                <defs>
                  <clipPath id="clip0_67_236">
                    <rect width="21" height="21" fill="white" />
                  </clipPath>
                </defs>
              </svg>
              <span>
                {formatDate(item.startDate)} - {formatDate(item.endDate)}
              </span>
            </div>
            <div className={styles.trainer}>
              {item.trainer && ( // Conditional rendering for the SVG
                <><svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ paddingRight: "5px" }}>
                  <g clipPath="url(#clip0_67_229)">
                    <mask id="mask0_67_229" style={{ maskType: "luminance" }} maskUnits="userSpaceOnUse" x="0" y="0" width="21" height="21">
                      <path d="M21 0H0V21H21V0Z" fill="white" />
                    </mask>
                    <g mask="url(#mask0_67_229)">
                      <path d="M20.1747 6.41289C19.6462 5.16296 18.8882 4.03974 17.9248 3.07518C16.9614 2.11062 15.8382 1.35381 14.5871 0.825298C13.2927 0.277382 11.9172 0 10.5006 0C9.08398 0 7.70734 0.277382 6.41289 0.825298C5.16182 1.35381 4.03974 2.11176 3.07518 3.07518C2.11062 4.03859 1.35381 5.16182 0.825298 6.41289C0.277382 7.70734 0 9.08284 0 10.5006C0 11.9183 0.277382 13.2927 0.825298 14.5883C1.35381 15.8382 2.11176 16.9614 3.07518 17.926C4.03974 18.8905 5.16182 19.6473 6.41289 20.1758C7.70734 20.7238 9.08284 21.0011 10.5006 21.0011C11.9183 21.0011 13.2927 20.7238 14.5883 20.1758C15.8382 19.6473 16.9614 18.8894 17.926 17.926C18.8905 16.9614 19.6473 15.8393 20.1758 14.5883C20.7238 13.2938 21.0011 11.9183 21.0011 10.5006C21 9.08284 20.7226 7.70734 20.1747 6.41289ZM14.102 19.0264C12.9616 19.5092 11.7505 19.7535 10.5006 19.7535C9.25064 19.7535 8.03952 19.5092 6.89917 19.0264C6.03392 18.6599 5.23716 18.1702 4.52259 17.5641C4.74632 16.216 5.42208 14.9798 6.44714 14.0575C7.56009 13.0552 8.99951 12.5027 10.4994 12.5027C11.9993 12.5027 13.4388 13.0552 14.5517 14.0575C15.5768 14.9809 16.2525 16.216 16.4763 17.5641C15.764 18.1691 14.9672 18.6599 14.102 19.0264ZM8.1628 10.286C7.5384 9.66158 7.19482 8.83171 7.19482 7.94934C7.19482 7.06697 7.5384 6.2371 8.1628 5.61271C8.78719 4.98831 9.61706 4.64473 10.4994 4.64473C11.3818 4.64473 12.2117 4.98831 12.8361 5.61271C13.4605 6.2371 13.804 7.06697 13.804 7.94934C13.804 8.83171 13.4605 9.66158 12.8361 10.286C12.2117 10.9104 11.3818 11.254 10.4994 11.254C9.61706 11.254 8.78719 10.9104 8.1628 10.286ZM19.0264 14.102C18.652 14.9878 18.1463 15.8017 17.5207 16.5288C17.1452 15.2286 16.4112 14.0506 15.3884 13.1294C14.7001 12.5107 13.9102 12.0336 13.0587 11.7163C13.2938 11.5565 13.5152 11.3727 13.7196 11.1683C14.1374 10.7506 14.4661 10.2631 14.6944 9.72208C14.9318 9.16046 15.0528 8.5646 15.0528 7.95048C15.0528 7.33636 14.9318 6.7405 14.6944 6.17889C14.465 5.63668 14.1374 5.15041 13.7196 4.73262C13.3018 4.31483 12.8144 3.98609 12.2733 3.75779C11.7117 3.52036 11.1158 3.39936 10.5017 3.39936C9.88759 3.39936 9.29173 3.52036 8.73012 3.75779C8.18791 3.98723 7.70164 4.31483 7.28385 4.73262C6.86607 5.15041 6.53732 5.63782 6.30902 6.17889C6.07159 6.7405 5.95059 7.33636 5.95059 7.95048C5.95059 8.5646 6.07159 9.16046 6.30902 9.72208C6.53846 10.2643 6.86607 10.7506 7.28385 11.1683C7.48818 11.3727 7.70963 11.5553 7.94477 11.7163C7.09436 12.0336 6.30331 12.5107 5.61499 13.1294C4.59222 14.0495 3.85824 15.2286 3.48269 16.5288C2.85715 15.8017 2.35147 14.9878 1.97706 14.102C1.49421 12.9616 1.24993 11.7505 1.24993 10.5006C1.24993 9.25064 1.49421 8.03952 1.97706 6.89917C2.44279 5.79763 3.11056 4.80796 3.95983 3.95755C4.81024 3.10714 5.79991 2.44051 6.90145 1.97478C8.0418 1.49193 9.25292 1.24765 10.5029 1.24765C11.7528 1.24765 12.9639 1.49193 14.1043 1.97478C15.2058 2.44051 16.1955 3.10828 17.0459 3.95755C17.8963 4.80796 18.5629 5.79763 19.0286 6.89917C19.5115 8.03952 19.7558 9.25064 19.7558 10.5006C19.7524 11.7494 19.5081 12.9616 19.0264 14.102Z" fill="#C1A78C" />
                    </g>
                  </g>
                  <defs>
                    <clipPath id="clip0_67_229">
                      <rect width="21" height="21" fill="white" />
                    </clipPath>
                  </defs>
                </svg><span> Trainer -</span></>
              )}
              <span className={styles.trainerName}> {item.trainer}</span>
            </div>
            <div className={styles.descriptionContainer}>
              <p className={styles.description}>{item.description}</p>
            </div>
            <div className={styles.price}>
              ₹ <h3>{item.totalPlanValue}</h3>
              <p className={styles.includeTax}>Include Tax</p>
            </div>
            <a className={styles.button} href={item.getStartedLink}>
              Get Started
              <svg width="25" height="9" viewBox="0 0 25 9" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ paddingLeft: "5px" }}>
                <path
                  d="M24.3536 4.85355C24.5488 4.65829 24.5488 4.34171 24.3536 4.14645L21.1716 0.964466C20.9763 0.769204 20.6597 0.769204 20.4645 0.964466C20.2692 1.15973 20.2692 1.47631 20.4645 1.67157L23.2929 4.5L20.4645 7.32843C20.2692 7.52369 20.2692 7.84027 20.4645 8.03553C20.6597 8.2308 20.9763 8.2308 21.1716 8.03553L24.3536 4.85355ZM0 5H24V4H0V5Z"
                  fill="#27282C"
                  className={styles.path}
                />
              </svg>
            </a>
          </div>
        </div>
      ))}
    </div>
  );
};
